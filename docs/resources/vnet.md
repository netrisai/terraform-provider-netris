---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "netris_vnet Resource - terraform-provider-netris"
subcategory: ""
description: |-
  Creates and manages Vnets
---

# netris_vnet

V-Net is a virtual networking service that provide a Layer-2 (unrouted) or Layer-3 (routed) virtual network segments on switch ports anywhere on the switch fabric. V-NETs can be created and managed by a single tenant (single team) or they can be created and managed collaboratively by multiple tenants (different teams inside and/or outside the organization). Netris automatically configures a VXLAN with an EVPN control plane over an unnumbered BGP Layer-3 underlay network and organize the high availability for the default gateway behind the scenes.

~> **Note:** Vnet require subnets and hardware to exist prior to resource creation. Use `depends_on` to set an explicit dependency on the subnets and hardware.


## Example Usages

```hcl
data "netris_site" "santa-clara" {
  name = "Santa Clara"
}

data "netris_tenant" "admin" {
  name = "Admin"
}

resource "netris_vnet" "my-vnet" {
  name = "my-vnet"
  tenantid = data.netris_tenant.admin.id
  state = "active"
  sites{
    id = data.netris_site.santa-clara.id
    gateways {
      prefix = "203.0.113.1/25"
    }
    gateways {
      prefix = "2001:db8:acad::fffe/64"
    }
    ports {
      name = "swp5@my-sw01"
      vlanid = 1050
    }
    ports {
      name = "swp7@my-sw02"
    }
  }
  depends_on = [
    netris_switch.my-sw01,
    netris_switch.my-sw02,
    netris_subnet.my-subnet-common,
  ]
}
```


<!-- schema generated by tfplugindocs -->
## Schema

### Required

- **name** (String) The name of the vnet
- **sites** (Block List, Min: 1) Block of per site vnet configuration (see [below for nested schema](#nestedblock--sites))
- **tenantid** (Number) ID of tenant. Users of this tenant will be permitted to edit this unit.

### Optional

- **state** (String) V-Net state. Allowed values: `active` or `disabled`. Default value is `active`

<a id="nestedblock--sites"></a>
### Nested Schema for `sites`

Required:

- **id** (Number) The site ID. Ports from these sites will be allowed to participate in the V-Net. (Multi-site vnet would require backbone connectivity between sites).

Optional:

- **gateways** (Block List) Block of gateways (see [below for nested schema](#nestedblock--sites--gateways))
- **ports** (Block List) Block of ports (see [below for nested schema](#nestedblock--sites--ports))

<a id="nestedblock--sites--gateways"></a>
### Nested Schema for `sites.gateways`

Required:

- **prefix** (String) The address will be serving as anycast default gateway for selected subnet. Example: `203.0.113.1/25`


<a id="nestedblock--sites--ports"></a>
### Nested Schema for `sites.ports`

Optional:

- **name** (String) Switch port name. Example: `swp5@my-sw01`
- **vlanid** (String) VLAN tag for current port. If vlanid is not set - means port untagged
