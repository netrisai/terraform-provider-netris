---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "netris_softgate Resource - terraform-provider-netris"
subcategory: ""
description: |-
  Creates and manages Softgates
---

# netris_softgate

Netris SoftGate is automatic configuration software and reference architecture for enabling border routing, Layer-4 Load Balancing, Network Address Translation (NAT), and site-to-site VPN function on a regular x86 server with a SmartNIC card.

Netris SoftGate supports a high-performance DPDK data plane running in the user-space. It configures the system so that packets entering the NIC (network interface card) bypass Linux Kernel and go directly to the user space application. So traffic from the NIC travels through the PCIe bus to the closest CPUâ€™s last level cache and then into one of 8 cores, all reserved for the data-plane application. DPDK data-plane software processes the traffic for routing, load-balancing, NAT and makes necessary changes in the packet header (rewrites mac/VLAN-id) then returns the packet to the NIC, which sends it further into the switch for traveling further in Layer-2.

The server has to have 2 x Intel CPUs (8+ cores each). One CPU (closest to the SmartNIC card) is reserved for the data-plane process only (OS will report 100% CPU usage). Another CPU is used for running Linux OS, routing control plane (FRR), Netris agent, and other standard Linux utilities.

Netris agents can also configure Wireguard to form full mesh VPN tunnels between customer sites and then run necessary dynamic routing. So, servers and applications in multiple data centers can communicate over the Internet using encrypted tunnels.

~> **Note:** Softgate require subnets to exist prior to resource creation. Use `depends_on` to set an explicit dependency on the subnets.

## Example Usages

```hcl
data "netris_inventory_profile" "my-profile" {
  name = "my-profile"
}

data "netris_site" "santa-clara" {
  name = "Santa Clara"
}

data "netris_tenant" "admin" {
  name = "Admin"
}

resource "netris_softgate" "my-softgate" {
  name = "my-softgate"
  tenantid = data.netris_tenant.admin.id
  siteid = data.netris_site.santa-clara.id
  description = "Softgate 1"
  profileid = data.netris_inventory_profile.my-profile.id
  mainip = "auto"
  mgmtip = "192.0.2.11"
  # tags  = ["foo", "bar"]
  # flavor = "sg-hs"
  # role = "snat"
  depends_on = [
    netris_subnet.my-subnet-mgmt,
    netris_subnet.my-subnet-loopback,
  ]
}
```


<!-- schema generated by tfplugindocs -->
## Schema

### Required

- **mainip** (String) A unique IP address which will be used as a loopback address of this unit. Valid value is ip address (example `198.51.100.11`) or `auto`. If set `auto` the controller will assign an ip address automatically from subnets with relevant purpose.
- **mgmtip** (String) A unique IP address to be used on out of band management interface. Valid value is ip address (example `192.0.2.11`) or `auto`. If set `auto` the controller will assign an ip address automatically from subnets with relevant purpose.
- **name** (String) User assigned name of softgate.
- **siteid** (Number) The site ID where this softgate belongs.
- **tenantid** (Number) ID of tenant. Users of this tenant will be permitted to edit this unit.

### Optional

- **description** (String) Softgate description.
- **profileid** (Number) An inventory profile ID to define global configuration (NTP, DNS, timezone, etc...)
- **flavor** (String) Softgate's flavor. Valid values are `sg`, `sg-pro` or `sg-hs`. The default value is `sg`.
- **role** (String) Softgate's role. Only when flavor == `sg-hs` Valid values are `general` or `snat`. The default value is `general`.
- **tags** (List of String) List of tags. Example `["foo", "bar"]`
